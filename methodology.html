<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Methodology — AI Sustainability Monitor</title>
    <meta
      name="description"
      content="How the AI Sustainability Monitor scores clusters, computes the sustainability index, and keeps data provenance intact."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="icon" href="assets/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon.png" />
  </head>
  <body>
    <header class="site-header" id="top">
      <div class="container header-inner">
        <a class="logo" href="index.html">AI Sustainability Monitor</a>
        <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
          <span class="sr-only">Toggle navigation</span>
          <span class="nav-toggle__bar"></span>
          <span class="nav-toggle__bar"></span>
          <span class="nav-toggle__bar"></span>
        </button>
        <nav id="site-nav" class="site-nav" aria-label="Primary">
          <ul>
            <li><a href="index.html#health">AI health</a></li>
            <li><a href="index.html#latest">Latest briefings</a></li>
            <li><a href="posts/index.html">Briefing archive</a></li>
            <li><a href="methodology.html" aria-current="page">Methodology</a></li>
            <li><a href="glossary.html">Glossary</a></li>
            <li><a href="index.html#metrics">Hard metrics</a></li>
            <li><a href="index.html#playbook">Playbook</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="post-main">
      <div class="container post-layout">
        <article class="post">
          <header class="post-header">
            <h1>Methodology</h1>
            <p class="post-subtitle">How daily research packets power the AI Sustainability Monitor.</p>
          </header>

          <section>
            <p>
              The AI Sustainability Monitor measures whether the infrastructure, demand, and policy pillars of the AI economy are
              strengthening or slipping. Every update follows the same pipeline: a structured ChatGPT Deep Research prompt,
              deterministic JSON packet, and automated ingest that rebuilds the sustainability index (NSI), cluster briefings, and
              hard-metric dashboard. This page documents that pipeline and the scoring logic that underpins it.
            </p>
          </section>

          <section>
            <h2>Pipeline at a glance</h2>
            <p>The workflow is intentionally simple—three repeatable stages keep the system transparent:</p>
            <div class="pipeline-flow">
              <div class="pipeline-card">
                <span class="pipeline-card__step">1</span>
                <h3>Deep research prompt</h3>
                <p>ChatGPT Deep Research executes the “AI Sustainability Monitor” brief and collects primary evidence.</p>
                <ul class="pipeline-card__list">
                  <li>Six standing clusters plus one optional ad-hoc topic.</li>
                  <li>Amsterdam timezone, ISO <code>as_of</code> date, and consistent fingerprints per event.</li>
                </ul>
              </div>
              <div class="pipeline-card">
                <span class="pipeline-card__step">2</span>
                <h3>Structured packet</h3>
                <p>The agent returns deterministic JSON with bullish/bearish scores, briefings, and hard metrics.</p>
                <ul class="pipeline-card__list">
                  <li>Top-level keys: <code>as_of</code>, <code>overall</code>, <code>thresholds</code>, <code>clusters</code>, <code>hard_metrics_summary</code>, <code>events_update</code>, <code>post</code>.</li>
                  <li>Optional <code>briefings</code> provide extra write-ups linked to the registry.</li>
                </ul>
              </div>
              <div class="pipeline-card">
                <span class="pipeline-card__step">3</span>
                <h3>Deterministic ingest</h3>
                <p><code>scripts/ingest_llm_packet.py</code> validates the packet and regenerates JSON + HTML outputs.</p>
                <ul class="pipeline-card__list">
                  <li>Derives NSI scores, applies decay, and merges into <code>data/events.json</code>.</li>
                  <li>Refreshes the sustainability snapshot, latest feed, archive, and posts.</li>
                </ul>
              </div>
            </div>
          </section>

          <section>
            <h2>Step 1 — Deep research prompt</h2>
            <p>
              The Deep Research brief asks the analyst to assess whether the AI boom is sustainable across six structural pillars.
              The prompt mandates Amsterdam time, requires the JSON <code>as_of</code> field, and enforces continuity via
              <code>fingerprint_fields</code> (cluster, event type, canonical source, entities, geography, instruments, mechanism).
            </p>
            <p>The standing clusters are:</p>
            <div class="cluster-infobox">
              <ul class="cluster-infobox__list">
                <li><strong>AI_CAPEX</strong> — Hyperscaler capex and compute build-outs.</li>
                <li><strong>POWER_GRID</strong> — Grid capacity, power procurement, and energy stress.</li>
                <li><strong>SEMI_SUPPLY</strong> — Semiconductor supply, advanced node capacity, export controls.</li>
                <li><strong>UNIT_ECONOMICS</strong> — Utilisation, cost curves, and gross margins.</li>
                <li><strong>ENTERPRISE_DEMAND</strong> — Adoption, investment velocity, monetisation progress.</li>
                <li><strong>POLICY_GEOPOLITICS</strong> — Regulation, subsidies, and geopolitical constraints.</li>
              </ul>
              <p class="cluster-infobox__note">Analysts may introduce one additional cluster when primary evidence warrants it.</p>
            </div>
            <p>
              Analysts must re-score any live event already on the sustainability snapshot, cite primary sources, and document
              rationale plus tripwires. The memo (R1) summarises findings for humans; the packet (R2) mirrors those findings for the
              ingest script.
            </p>
          </section>

          <section>
            <h2>Step 2 — Structured packet</h2>
            <p>The packet is strict JSON so the site can ingest updates without manual intervention. Key fields include:</p>
            <ul>
              <li><strong>overall</strong>: Bullish/bearish composite scores, the supplied sustainability index, state flag, and overrides.</li>
              <li><strong>thresholds</strong>: Benchmarks for NSI tiers (e.g., Tier X below 50).</li>
              <li><strong>clusters</strong>: Bullish/bearish scores, phase, confidence, rationale, indicators, and sources per cluster.</li>
              <li><strong>hard_metrics_summary</strong>: Quantitative metrics such as capital coverage ratio (CCR) or utilisation (UEI).</li>
              <li><strong>events_update</strong>: Event-level fingerprints with bullish/bearish scores, phase, and optional briefing HTML.</li>
              <li><strong>briefings</strong>: Additional write-ups mapped to event UIDs or clusters.</li>
              <li><strong>post</strong>: Daily overview published as the headline briefing.</li>
            </ul>
            <p>Packets are stored in <code>data/llm/</code>; the ingest script always selects the latest file for a given date.</p>
          </section>

          <section>
            <h2>Step 3 — Deterministic ingest</h2>
            <p>Running <code>python scripts/ingest_llm_packet.py</code> performs the following deterministic steps:</p>
            <ol>
              <li>Validate required keys, normalise URLs, and compute NSI values (50 + 0.5 × (bullish − bearish), bounded 0–100).</li>
              <li>Merge events into <code>data/events.json</code> using SHA-256 fingerprints; append score history, rationale, tripwires, and sources.</li>
              <li>Apply decay: after a seven-day grace period, watch/elevated/critical events decay three NSI points per extra day.</li>
              <li>Generate/refresh HTML briefings, <code>data/latest_briefings.json</code>, and <code>data/briefings_archive.json</code>.</li>
              <li>Build <code>data/leaderboard.json</code> containing overall NSI, sorted clusters (lowest NSI first), top pressure list, thresholds, methodology note, and formatted hard metrics.</li>
              <li>Render the daily post (<code>posts/&lt;slug&gt;.html</code>) using the shared site chrome.</li>
            </ol>
            <p>The script is idempotent—re-running with the same packet yields byte-identical outputs.</p>
          </section>

          <section>
            <h2>Scoring, states, and decay</h2>
            <p>
              The sustainability index (NSI) is centred at 50. Bullish and bearish scores are qualitative tallies derived from
              research evidence. The ingest script recomputes NSI for every cluster and event using the linear transform above.
              Clusters sort ascending (lowest NSI = greatest stress). Overall states map as follows:
            </p>
            <ul>
              <li><strong>Resilient</strong> — NSI ≥ 60 and improving hard metrics.</li>
              <li><strong>Watch</strong> — 45 ≤ NSI &lt; 60 or mixed hard metrics (default state when bullish ≈ bearish).</li>
              <li><strong>Critical</strong> — NSI &lt; 45 or hard metrics in Tier X/Y.</li>
            </ul>
            <p>
              Decay prevents stale narratives from dominating the leaderboard. After seven days without fresh evidence, NSI drops
              by three points per day for watch/elevated/critical phases, with each decay stamped into the event’s history.
            </p>
          </section>

          <section>
            <h2>Hard metrics & tiers</h2>
            <p>
              Hard metrics ground the qualitative scores. Each metric includes a <code>tier</code> flag surfaced on the dashboard.
              Current metrics include:
            </p>
            <ul>
              <li><strong>CCR</strong> — Capital coverage ratio (revenue versus depreciation+interest+opex). Tier X denotes dangerous shortfalls.</li>
              <li><strong>PSR</strong> — Power security ratio (secured power vs. required power). Tier Y indicates watch status.</li>
              <li><strong>UEI</strong> — Utilisation efficiency index (fleet utilisation %).</li>
              <li><strong>MG</strong> — Operating margin (%) for AI workloads.</li>
              <li><strong>FH</strong> — Financing headroom (ROIC − WACC, basis points).</li>
            </ul>
            <p>The ingest script formats values (e.g., × ratios, %, bps) and emits canonicalised sources for transparency.</p>
          </section>

          <section>
            <h2>Provenance & reproducibility</h2>
            <p>
              Every generated artefact lives in <code>data/</code> or <code>posts/</code> with UTF-8, newline-terminated JSON/HTML.
              Fingerprints ensure continuity; archives store slug/title/as-of so the latest feed and leaderboard can cross-link
              without guesswork. Contributors should keep deterministic transforms (no randomness, no side effects) to preserve
              the audit trail.
            </p>
          </section>
        </article>

        <aside class="post-sidebar" aria-label="Reference links">
          <div class="sidebar-card">
            <h2>Need the packet format?</h2>
            <p>See <code>data/llm/README.md</code> for naming conventions and packet ordering.</p>
            <a class="btn btn-secondary" href="data/llm/README.md">Open instructions</a>
          </div>
          <div class="sidebar-card">
            <h2>Check the glossary</h2>
            <p>Definitions for NSI, tiers, confidence, and provenance tags live in the glossary.</p>
            <a class="btn btn-secondary" href="glossary.html">Read glossary</a>
          </div>
        </aside>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>
          <a class="logo" href="#top">AI Sustainability Monitor</a>
          <p class="footer-note">
            Tracking infrastructure, demand, and policy signals shaping the AI boom.
          </p>
        </div>
        <div class="footer-links">
          <a href="index.html#health">AI health</a>
          <a href="index.html#metrics">Hard metrics</a>
          <a href="posts/index.html">Briefing archive</a>
          <a href="methodology.html">Methodology</a>
          <a href="glossary.html">Glossary</a>
          <a href="mailto:signals@aisustainability.monitor">Contact</a>
          <a href="index.html#playbook">Playbook</a>
        </div>
      </div>
    </footer>

    <script src="assets/js/main.js" defer></script>
  </body>
</html>
